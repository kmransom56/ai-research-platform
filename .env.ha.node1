# =============================================================================
# HA Configuration - Primary Node (Node 1)
# =============================================================================
# High Availability configuration for primary node deployment
# Copy to .env when deploying as primary node

# =============================================================================
# HA CLUSTER CONFIGURATION
# =============================================================================

# Node identity and HA settings
NODE_ID=node1
HA_ENABLED=true
HA_ROLE=primary
HA_PEER_IP=10.0.1.11

# Cluster configuration
HA_CLUSTER_NAME=ai-platform-cluster
HA_CLUSTER_TOKEN=your-secure-cluster-token-here
HA_HEARTBEAT_INTERVAL=5
HA_FAILOVER_TIMEOUT=30

# =============================================================================
# NETWORK CONFIGURATION - NODE 1
# =============================================================================

# Platform network settings
PLATFORM_IP=10.0.1.10
PLATFORM_DOMAIN=node1.ai-platform.local
PLATFORM_ROOT=/opt/ai-research-platform

# Service discovery
CONSUL_ADDRESS=10.0.1.10:8500
ETCD_ENDPOINTS=10.0.1.10:2379,10.0.1.11:2379

# =============================================================================
# LOAD BALANCER CONFIGURATION
# =============================================================================

# HAProxy/nginx upstream configuration
UPSTREAM_NODES=10.0.1.10:11000,10.0.1.11:11000
LOAD_BALANCER_IP=10.0.1.10
HEALTH_CHECK_URL=http://10.0.1.10:11000/healthz

# =============================================================================
# DATABASE HA CONFIGURATION
# =============================================================================

# PostgreSQL HA settings
POSTGRES_PASSWORD=ha-secure-postgres-password
POSTGRES_REPLICATION_PASSWORD=ha-replication-password
POSTGRES_REPLICATION_MODE=primary
POSTGRES_MASTER_SERVICE=postgres-ha-primary
POSTGRES_SLAVE_SERVICE=postgres-ha-secondary

# RabbitMQ cluster settings
RABBITMQ_DEFAULT_USER=chatcopilot
RABBITMQ_DEFAULT_PASS=ha-secure-rabbitmq-password
RABBITMQ_ERLANG_COOKIE=ai-platform-ha-cookie-secure
RABBITMQ_CLUSTER_NODE_NAME=rabbit@rabbitmq-ha-primary

# =============================================================================
# SERVICE PORTS - NODE 1
# =============================================================================

# Core services
CHAT_COPILOT_BACKEND_PORT=11000
CHAT_COPILOT_FRONTEND_PORT=3000
NGINX_SSL_PORT=8443
NGINX_HTTP_PORT=8080

# AI Stack ports
DEEPSEEK_R1_PORT=8000
MISTRAL_PORT=8001
DEEPSEEK_CODER_PORT=8002
OOBABOOGA_WEBUI_PORT=7860
OOBABOOGA_API_PORT=5000
KOBOLDCPP_PORT=5001
AI_GATEWAY_PORT=9000

# Infrastructure ports
POSTGRES_PORT=5432
RABBITMQ_PORT=15672
NEO4J_PORT=7474
GRAFANA_PORT=11002

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

# SSL certificate paths
SSL_CERT_PATH=/etc/ssl/certs/node1.ai-platform.local.crt
SSL_KEY_PATH=/etc/ssl/private/node1.ai-platform.local.key
SSL_CA_PATH=/etc/ssl/certs/ca-certificates.crt

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Logging configuration
LOG_LEVEL=INFO
ASPNETCORE_ENVIRONMENT=Production
ENABLE_HA_LOGGING=true
SYSLOG_ENDPOINT=10.0.1.10:514

# Health monitoring
ENABLE_HEALTH_MONITORING=true
HEALTH_CHECK_INTERVAL=10
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# HA backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_DESTINATION=/opt/backups/ha/node1
BACKUP_SYNC_PEER=true
BACKUP_PEER_PATH=10.0.1.11:/opt/backups/ha/node2

# =============================================================================
# AI PROVIDER CONFIGURATION
# =============================================================================

# OpenAI/Azure OpenAI settings
OPENAI_API_KEY=your-openai-api-key-here
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_DEPLOYMENT_NAME=

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Docker settings for HA
DOCKER_NETWORK_NAME=ai-platform-ha
DOCKER_VOLUME_PREFIX=ha
COMPOSE_PROJECT_NAME=ai-platform-ha

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT and authentication
JWT_SECRET=your-ha-secure-jwt-secret-here
AUTH_COOKIE_DOMAIN=.ai-platform.local
CORS_ORIGINS=https://10.0.1.10:8443,https://10.0.1.11:8443

# API security
API_RATE_LIMIT=1000
API_RATE_WINDOW=3600
ENABLE_API_AUTHENTICATION=true