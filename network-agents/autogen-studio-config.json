{
  "workflow_name": "Network Management Multi-Agent System",
  "description": "AI-powered network monitoring and management using Meraki and Fortinet APIs",
  "version": "1.0.0",
  "agents": [
    {
      "name": "NetworkDiscoveryAgent",
      "type": "assistant",
      "description": "Discovers and catalogs network infrastructure across organizations",
      "system_message": "You are a network discovery specialist. Your job is to discover and catalog network infrastructure across multiple organizations. You can identify networks, devices, and their relationships. You work with the Meraki API to gather comprehensive network topology information. Always provide detailed discovery reports with organization, network, and device breakdowns.",
      "model": "gpt-4",
      "max_consecutive_auto_replies": 3,
      "tools": [
        {
          "name": "discover_networks", 
          "description": "Run comprehensive network discovery across all accessible organizations",
          "python_function": "network_discovery_agent.NetworkDiscoveryAgent().discover_all_networks"
        },
        {
          "name": "get_organization_summary",
          "description": "Get summary of discovered organizations",
          "python_function": "network_discovery_agent.NetworkDiscoveryAgent().get_organization_summary"
        },
        {
          "name": "generate_discovery_report",
          "description": "Generate comprehensive network discovery report",  
          "python_function": "network_discovery_agent.NetworkDiscoveryAgent().generate_health_report"
        }
      ],
      "code_execution_config": {
        "work_dir": "/home/keith/chat-copilot/network-agents",
        "use_docker": false
      }
    },
    {
      "name": "DeviceHealthAgent", 
      "type": "assistant",
      "description": "Monitors device health, performance, and connectivity status",
      "system_message": "You are a device health monitoring specialist. Your role is to analyze device performance, connectivity, and health metrics. You can identify devices with performance issues, connectivity problems, or other health concerns. You calculate health scores, uptime metrics, and performance indicators. Always provide actionable health assessments with clear severity levels and specific recommendations for device issues.",
      "model": "gpt-4",
      "max_consecutive_auto_replies": 3,
      "tools": [
        {
          "name": "monitor_device_health",
          "description": "Monitor health metrics for network devices",
          "python_function": "device_health_monitoring_agent.DeviceHealthMonitoringAgent().monitor_device_health"
        },
        {
          "name": "get_critical_devices",
          "description": "Get devices with critical health issues",  
          "python_function": "device_health_monitoring_agent.DeviceHealthMonitoringAgent().get_critical_devices"
        },
        {
          "name": "generate_health_summary",
          "description": "Generate comprehensive device health summary",
          "python_function": "device_health_monitoring_agent.DeviceHealthMonitoringAgent().generate_health_summary"
        }
      ],
      "code_execution_config": {
        "work_dir": "/home/keith/chat-copilot/network-agents",
        "use_docker": false
      }
    },
    {
      "name": "AlertManagerAgent",
      "type": "assistant", 
      "description": "Manages alerts, notifications, and escalation workflows",
      "system_message": "You are an alert management specialist. Your responsibility is to process network alerts, manage notifications, and handle escalation workflows. You can create, acknowledge, and resolve alerts based on network health data. You understand alert severity levels, can identify patterns in alert data, and provide recommendations for alert resolution. Always prioritize critical alerts and provide clear escalation paths for unresolved issues.",
      "model": "gpt-4",
      "max_consecutive_auto_replies": 3,
      "tools": [
        {
          "name": "process_health_data",
          "description": "Process device health data and generate alerts", 
          "python_function": "alert_management_agent.AlertManagementAgent().process_device_health_data"
        },
        {
          "name": "get_active_alerts",
          "description": "Get currently active network alerts",
          "python_function": "alert_management_agent.AlertManagementAgent().get_active_alerts"  
        },
        {
          "name": "get_alert_summary",
          "description": "Get comprehensive alert dashboard summary",
          "python_function": "alert_management_agent.AlertManagementAgent().get_alert_summary"
        },
        {
          "name": "acknowledge_alert",
          "description": "Acknowledge a specific alert",
          "python_function": "alert_management_agent.AlertManagementAgent().acknowledge_alert"
        }
      ],
      "code_execution_config": {
        "work_dir": "/home/keith/chat-copilot/network-agents", 
        "use_docker": false
      }
    },
    {
      "name": "NetworkCoordinator",
      "type": "assistant",
      "description": "Coordinates all network agents and provides comprehensive network assessment",
      "system_message": "You are the network management coordinator. Your role is to orchestrate all network agents, coordinate their activities, and provide comprehensive network assessments. You understand the big picture of network health, can prioritize issues across the entire infrastructure, and provide executive-level summaries. You coordinate between discovery, health monitoring, and alert management to provide actionable insights for network operations teams.",
      "model": "gpt-4",
      "max_consecutive_auto_replies": 5,
      "tools": [
        {
          "name": "run_comprehensive_assessment", 
          "description": "Run complete network assessment using all agents",
          "python_function": "autogen_network_coordinator.NetworkCoordinator().run_comprehensive_network_assessment"
        },
        {
          "name": "get_coordinator_status",
          "description": "Get current status of network coordinator",
          "python_function": "autogen_network_coordinator.NetworkCoordinator().get_coordinator_status"
        }
      ],
      "code_execution_config": {
        "work_dir": "/home/keith/chat-copilot/network-agents",
        "use_docker": false
      }
    },
    {
      "name": "UserProxy",
      "type": "user_proxy", 
      "description": "Human user interface for network management system",
      "system_message": "You are the human operator interface for the network management system. You can request network assessments, ask questions about network health, acknowledge alerts, and request specific reports. You coordinate with the AI agents to get the information and actions you need for network operations.",
      "human_input_mode": "ALWAYS",
      "max_consecutive_auto_replies": 0,
      "code_execution_config": {
        "work_dir": "/home/keith/chat-copilot/network-agents",
        "use_docker": false
      }
    }
  ],
  "workflows": [
    {
      "name": "Network Health Assessment",
      "description": "Complete network health assessment workflow",
      "trigger": "user_request",
      "steps": [
        {
          "agent": "NetworkCoordinator", 
          "action": "run_comprehensive_assessment",
          "next_agent": "UserProxy"
        }
      ]
    },
    {
      "name": "Device Discovery and Health Check",
      "description": "Discover devices and assess their health",
      "trigger": "scheduled", 
      "schedule": "*/15 * * * *",
      "steps": [
        {
          "agent": "NetworkDiscoveryAgent",
          "action": "discover_networks", 
          "next_agent": "DeviceHealthAgent"
        },
        {
          "agent": "DeviceHealthAgent",
          "action": "monitor_device_health",
          "input_from": "NetworkDiscoveryAgent",
          "next_agent": "AlertManagerAgent"
        },
        {
          "agent": "AlertManagerAgent", 
          "action": "process_health_data",
          "input_from": "DeviceHealthAgent",
          "next_agent": "UserProxy"
        }
      ]
    },
    {
      "name": "Critical Alert Response", 
      "description": "Respond to critical network alerts",
      "trigger": "alert_condition",
      "condition": "critical_alert_detected",
      "steps": [
        {
          "agent": "AlertManagerAgent",
          "action": "get_active_alerts",
          "filter": "severity=critical",
          "next_agent": "DeviceHealthAgent"
        },
        {
          "agent": "DeviceHealthAgent", 
          "action": "get_critical_devices",
          "next_agent": "NetworkCoordinator"
        },
        {
          "agent": "NetworkCoordinator",
          "action": "run_comprehensive_assessment",
          "next_agent": "UserProxy"
        }
      ]
    },
    {
      "name": "Network Status Report",
      "description": "Generate network status report for management",
      "trigger": "scheduled",
      "schedule": "0 */6 * * *",
      "steps": [
        {
          "agent": "NetworkCoordinator",
          "action": "run_comprehensive_assessment",
          "next_agent": "UserProxy"
        }
      ]
    }
  ],
  "conversation_flows": [
    {
      "name": "Network Troubleshooting",
      "participants": ["UserProxy", "NetworkCoordinator", "DeviceHealthAgent", "AlertManagerAgent"],
      "flow": [
        {
          "from": "UserProxy",
          "to": "NetworkCoordinator", 
          "message_type": "problem_description"
        },
        {
          "from": "NetworkCoordinator",
          "to": "DeviceHealthAgent",
          "message_type": "health_check_request"
        },
        {
          "from": "DeviceHealthAgent", 
          "to": "AlertManagerAgent",
          "message_type": "health_assessment"
        },
        {
          "from": "AlertManagerAgent",
          "to": "UserProxy",
          "message_type": "action_recommendations"
        }
      ]
    },
    {
      "name": "Proactive Monitoring",
      "participants": ["NetworkDiscoveryAgent", "DeviceHealthAgent", "AlertManagerAgent", "NetworkCoordinator"],
      "flow": [
        {
          "from": "NetworkDiscoveryAgent", 
          "to": "DeviceHealthAgent",
          "message_type": "discovery_results"
        },
        {
          "from": "DeviceHealthAgent",
          "to": "AlertManagerAgent", 
          "message_type": "health_metrics"
        },
        {
          "from": "AlertManagerAgent",
          "to": "NetworkCoordinator",
          "message_type": "alert_summary"
        },
        {
          "from": "NetworkCoordinator",
          "to": "UserProxy",
          "message_type": "status_report"
        }
      ]
    }
  ],
  "integration_settings": {
    "meraki_api_endpoint": "http://localhost:11030",
    "neo4j_endpoint": "neo4j://localhost:7687", 
    "autogen_studio_port": 11001,
    "notification_channels": [
      {
        "type": "console",
        "enabled": true
      },
      {
        "type": "slack_webhook",
        "enabled": false,
        "webhook_url": "https://hooks.slack.com/services/..."
      },
      {
        "type": "email",
        "enabled": false,
        "smtp_server": "smtp.company.com"
      }
    ]
  },
  "monitoring_settings": {
    "default_discovery_interval": 900,
    "health_check_interval": 300, 
    "alert_escalation_timeout": 1800,
    "max_concurrent_assessments": 3,
    "enable_continuous_monitoring": true
  }
}