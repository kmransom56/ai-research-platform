{
admin 0.0.0.0:2019
}

http://:8080 {

# Landing page on the apex host
@root host ubuntuaicodeserver-1.tail5137b4.ts.net
handle @root {
respond `
<!DOCTYPE html>
<html>

<head>
    <title>AI Development Hub</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            background: #f5f5f5;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
        }

        h1 {
            color: #333;
            text-align: center;
        }

        .service {
            margin: 15px 0;
            padding: 15px;
            background: #f8f9fa;
            border-left: 4px solid #007acc;
        }

        .service a {
            text-decoration: none;
            color: #007acc;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>🚀 AI Development Hub</h1>
        <p>Private tailnet services – select a sub-domain:</p>

        <div class="service"><a href="https://copilot.ubuntuaicodeserver-1.tail5137b4.ts.net/">🤖 Copilot Platform</a>
        </div>
        <div class="service"><a href="https://autogen.ubuntuaicodeserver-1.tail5137b4.ts.net/">🌟 AutoGen Studio</a>
        </div>
        <div class="service"><a href="https://magentic.ubuntuaicodeserver-1.tail5137b4.ts.net/">🔗 Magentic-One</a>
        </div>
        <div class="service"><a href="https://webhook.ubuntuaicodeserver-1.tail5137b4.ts.net/">🔍 Webhook Server</a>
        </div>
        <div class="service"><a href="https://portscanner.ubuntuaicodeserver-1.tail5137b4.ts.net/">🔧 Port Scanner</a>
        </div>
        <div class="service"><a href="https://nginx.ubuntuaicodeserver-1.tail5137b4.ts.net/">✅ Nginx Manager</a></div>
        <div class="service"><a href="https://gateway-http.ubuntuaicodeserver-1.tail5137b4.ts.net/">🔗 HTTP Gateway</a>
        </div>
        <div class="service"><a href="https://gateway-https.ubuntuaicodeserver-1.tail5137b4.ts.net/">🔒 HTTPS
                Gateway</a></div>
        <div class="service"><a href="https://vscode.ubuntuaicodeserver-1.tail5137b4.ts.net/">💻 VS Code Web</a></div>
        <div class="service"><a href="https://fortinet.ubuntuaicodeserver-1.tail5137b4.ts.net/">🛡️ Fortinet Manager</a>
        </div>
        <div class="service"><a href="https://perplexica.ubuntuaicodeserver-1.tail5137b4.ts.net/">🔍 Perplexica</a>
        </div>
        <div class="service"><a href="https://searxng.ubuntuaicodeserver-1.tail5137b4.ts.net/">🔍 SearXNG</a></div>
        <div class="service"><a href="https://openwebui.ubuntuaicodeserver-1.tail5137b4.ts.net/">💬 OpenWebUI</a></div>
        <div class="service"><a href="https://ollama.ubuntuaicodeserver-1.tail5137b4.ts.net/">🦙 Ollama Server</a></div>
    </div>
</body>

</html>` 200
header Content-Type "text/html; charset=utf-8"
}

# Host-based reverse-proxy rules
@copilot host copilot.ubuntuaicodeserver-1.tail5137b4.ts.net
handle @copilot { reverse_proxy 100.123.10.72:11000 }

@autogen host autogen.ubuntuaicodeserver-1.tail5137b4.ts.net
handle @autogen { reverse_proxy 100.123.10.72:11001 }

@magentic host magentic.ubuntuaicodeserver-1.tail5137b4.ts.net
handle @magentic { reverse_proxy 100.123.10.72:11003 }

@webhook host webhook.ubuntuaicodeserver-1.tail5137b4.ts.net
handle @webhook { reverse_proxy 100.123.10.72:11002 }

@portscanner host portscanner.ubuntuaicodeserver-1.tail5137b4.ts.net
handle @portscanner { reverse_proxy 100.123.10.72:11010 }

@nginxmgr host nginx.ubuntuaicodeserver-1.tail5137b4.ts.net
handle @nginxmgr { reverse_proxy 100.123.10.72:11080 }

@gatewayhttp host gateway-http.ubuntuaicodeserver-1.tail5137b4.ts.net
handle @gatewayhttp { reverse_proxy 100.123.10.72:11081 }

@gatewayhttps host gateway-https.ubuntuaicodeserver-1.tail5137b4.ts.net
handle @gatewayhttps { reverse_proxy 100.123.10.72:11082 }

@vscode host vscode.ubuntuaicodeserver-1.tail5137b4.ts.net
handle @vscode { reverse_proxy 100.123.10.72:57081 }

@fortinet host fortinet.ubuntuaicodeserver-1.tail5137b4.ts.net
handle @fortinet { reverse_proxy 100.123.10.72:3001 }

@perplexica host perplexica.ubuntuaicodeserver-1.tail5137b4.ts.net
handle @perplexica { reverse_proxy 100.123.10.72:11020 }

@searxng host searxng.ubuntuaicodeserver-1.tail5137b4.ts.net
handle @searxng { reverse_proxy 100.123.10.72:11021 }

@openwebui host openwebui.ubuntuaicodeserver-1.tail5137b4.ts.net
handle @openwebui { reverse_proxy 100.123.10.72:11880 }

@ollama host ollama.ubuntuaicodeserver-1.tail5137b4.ts.net
handle @ollama { reverse_proxy 100.123.10.72:11434 }

# Security headers + gzip + logging
header {
Strict-Transport-Security "max-age=31536000; includeSubDomains"
X-Frame-Options "SAMEORIGIN"
X-Content-Type-Options "nosniff"
}

encode gzip

log {
output file /var/log/caddy/access.log
}
}